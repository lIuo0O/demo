//Program Size: data=17.0 xdata=0 code=371
//HexConvertVer = V22
//CheckSum = 0x5568
//2018.10.09_V3.2
#include "main.h"

#define		L_ROLLCODEADDR		0x0e00				//需和编译时设置相同		
code uint8_t	r_rollingcode_table[8]  _at_ L_ROLLCODEADDR;

//===================================================================================================================//
//main loop
//===================================================================================================================//
void main(void)
{
	Systeminit();
	Rollingcode();	
	while(1)
	{
		WDTR = 0x5A;                    // clear watchdog			
	}
}
-
//===================================================================================================================//
//System init 
//===================================================================================================================//
void Systeminit(void)
{
//系统时钟寄存器,From 最大跑8M	
//====================================================================================//
	CLKSEL = 0x06;																				// Fcpu = 32M/2 = 16M
	CLKCMD = 0x69;				
	CKCON = 0x10;																					// From = 8M

//清看门狗
//====================================================================================//	
	WDTR = 0x5A;                   												 // clear watchdog 
		
//GPIO初始化,	
//====================================================================================//	
	P0 = 0;
	P0M = 0;
	P0UR = 0xff;
	
	P1 = 0;
	P1M = 0;
	P1UR = 0xff;
	
	P2 = 0;
	P2M = 0;
	P2UR = 0xff;	
}

//===================================================================================================================//
//Rolling code
//===================================================================================================================//
void Rollingcode(void)
{
	uint8_t	r_readrolling[8] = {0};
	uint8_t	i;
	
	for(i = 0; i < 8; i++)
	{
		r_readrolling[i] = r_rollingcode_table[i];
	}
}