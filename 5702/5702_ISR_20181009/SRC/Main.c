//Program Size: data=9.0 xdata=0 code=187
//HexConvertVer = V22
//CheckSum = 0x8FFE
//2018.10.09_V3.2

#include "ISR.h"

//===================================================================================================//
// Main loop
//===================================================================================================//
void main(void) 
{
	Systeminit();
	ISRinit();
	EAL = 1;            						// Interrupt enable	  
	while (1)	
	{
		 WDTR = 0x5A;    							// clear watchdog if watchdog enable 
	}
}

//===================================================================================================//
//System init
//===================================================================================================//
void Systeminit(void)
{
//系统时钟寄存器,From 最大跑8M	
//====================================================================================//
	CLKSEL = 0x07;									// Fcpu = 32M/1 = 32M
	CLKCMD = 0x69;				
	CKCON = 0x30;										// From = 8M
	
//清看门狗
//====================================================================================//	
	WDTR = 0x5A;                    // clear watchdog 

//GPIO口初始化,
//====================================================================================//	
	P0 = 0;
	P0M = 0;
	P0UR = 0xff;

	P1 = 0;
	P1M = 0;
	P1UR = 0xff;

	P2 = 0;
	P2M = 0;
	P2UR = 0xff;	
	
}