//Program Size: data=74.0 xdata=0 code=699
//HexConvertVer = V24
//CheckSum = 0x7275
#include "ADC.h"

//=============================================================================================================//
//main loop
//=============================================================================================================//
void main(void)
{
	Systeminit();		
	ADinit();	
	while(1)
	{
		WDTR = 0x5A;                   											 	// clear watchdog	
		ADSample();
	}
}

//=============================================================================================================//
// System init
//=============================================================================================================//
void Systeminit(void)
{
//系统时钟寄存器,From 最大跑8M	
//====================================================================================//
	CLKSEL = 0x06;																				// Fcpu = 32M/2 = 16M
	CLKCMD = 0x69;				
	CKCON = 0x10;																					// From = 8M
	
//清看门狗
//====================================================================================//	
	WDTR = 0x5A;                   												 // clear watchdog 

//GPIO初始化,	当该IO口设为AD口时,需将该IO的状态设为输入不上拉
//====================================================================================//	
	P0 = 0;
	P0M = 0;
	P0UR = 0xff;
	
	P1 = 0;
	P1M = 0;
	P1UR = 0x00;
	
	P2 = 0;
	P2M = 0;
	P2UR = 0xff;
	
}
